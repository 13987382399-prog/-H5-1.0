<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–‡æ—…æ¼”ç¤ºç•Œé¢ | æ˜†æ˜è€è¡—åœ°å›¾ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "SF Pro Text", "PingFang SC", "Microsoft YaHei", sans-serif;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4eaf5 100%);
        }

        /* æ‰‹æœºæ¨¡æ‹Ÿæ¡† - æ›´çœŸå®çš„è´¨æ„Ÿ */
        .phone-container {
            width: 320px;
            height: 664px;
            border: 12px solid #1a1a1a;
            border-radius: 44px;
            background: #fff; /* çº¯ç™½è‰²èƒŒæ™¯ */
            overflow: hidden;
            position: relative;
            box-shadow: 0 12px 40px rgba(0,0,0,0.18), 
                        0 2px 10px rgba(0,0,0,0.12);
            /* æ¨¡æ‹Ÿæ‰‹æœºé¡¶éƒ¨å¬ç­’ */
            &::before {
                content: '';
                position: absolute;
                top: 0;
                left: 50%;
                transform: translateX(-50%);
                width: 100px;
                height: 20px;
                background: #1a1a1a;
                border-bottom-left-radius: 12px;
                border-bottom-right-radius: 12px;
            }
        }

        /* å±å¹•å†…å®¹åŒº - ç§»é™¤æ‰€æœ‰èƒŒæ™¯ç›¸å…³å†…å®¹ */
        .screen-content {
            width: 100%;
            height: 100%;
            position: relative;
            padding: 20px;
            background: #ffffff; /* çº¯ç™½è‰²èƒŒæ™¯ */
            overflow: hidden;
        }

        /* é™„è¿‘æ¨èæ»šåŠ¨æ  - èƒŒæ™¯é€æ˜åº¦è°ƒæ•´ä¸º90% */
        .nearby-recommend {
            position: absolute;
            top: 20px;
            left: 0;
            width: 100%;
            padding: 0 20px;
            z-index: 2;
            background: rgba(255,255,255,0.9);
            padding-top: 10px;
            padding-bottom: 10px;
        }

        .recommend-title {
            font-size: 16px;
            font-weight: 600;
            color: #4a2680;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .recommend-title::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 16px;
            background: linear-gradient(135deg, #c299ff, #9d65ff);
            border-radius: 2px;
        }

        /* å…è®¸æ¨ªå‘æ»šåŠ¨å¹¶éšè—æ»šåŠ¨æ¡ */
        .recommend-scroll {
            width: 100%;
            overflow-x: auto;
            overflow-y: hidden;
            white-space: nowrap;
            position: relative;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* éšè—Chrome/Safariçš„æ»šåŠ¨æ¡ */
        .recommend-scroll::-webkit-scrollbar {
            display: none;
        }

        /* è‡ªåŠ¨æ»šåŠ¨å®¹å™¨ */
        .scroll-wrapper {
            display: inline-block;
            animation: scrollLeft 50s linear infinite;
            user-select: none;
        }

        /* è‡ªåŠ¨æ»šåŠ¨åŠ¨ç”» */
        @keyframes scrollLeft {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }

        /* é¼ æ ‡æ‚¬åœ/æ‹–æ‹½æ—¶æš‚åœæ»šåŠ¨ */
        .recommend-scroll:hover .scroll-wrapper,
        .recommend-scroll.dragging .scroll-wrapper {
            animation-play-state: paused;
        }

        .recommend-item {
            display: inline-block;
            background: rgba(255,255,255,0.95);
            border-radius: 12px;
            padding: 10px 12px;
            margin-right: 10px;
            box-shadow: 0 2px 8px rgba(179, 136, 255, 0.1);
            border: 1px solid #f0e6ff;
            cursor: pointer;
            transition: all 0.2s ease;
            min-width: 140px;
            user-select: none;
        }

        .recommend-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(179, 136, 255, 0.15);
            border-color: #d4b4ff;
            background: rgba(255,255,255,1);
        }

        /* åˆ†ç±»å›¾æ ‡æ ·å¼ */
        .item-icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 6px;
            vertical-align: middle;
            border-radius: 4px;
            background-color: #f0e6ff;
            color: #9d65ff;
            text-align: center;
            line-height: 20px;
            font-size: 14px;
            font-weight: normal;
        }

        .item-title {
            font-size: 14px;
            color: #333;
            font-weight: 500;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
        }

        .item-desc {
            font-size: 12px;
            color: #666;
            padding-left: 26px;
        }

        /* AIä¼´æ¸¸æŒ‰é’® */
        .ai-button {
            position: absolute;
            bottom: 200px;
            right: 25px;
            width: 76px;
            height: 76px;
            border-radius: 50%;
            background: linear-gradient(135deg, #c299ff, #9d65ff);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 6px 24px rgba(157, 101, 255, 0.35);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1;
            border: 2px solid rgba(255, 255, 255, 0.3);
            
            &:hover {
                transform: scale(1.1) translateY(-4px) rotate(5deg);
                box-shadow: 0 8px 30px rgba(157, 101, 255, 0.5);
            }
            
            &:active {
                transform: scale(1.05) rotate(2deg);
            }
            
            .seagull-icon {
                width: 60px;
                height: 60px;
                background-image: url('https://p3-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/1bc04e71b6ce446fa657fb04cf4b7e5e.png~tplv-a9rns2rl98-24:720:720.png?lk3s=8e244e95&rcl=20260219153037A536B57FB3DBE869A22A&rrcfp=8a172a1a&x-expires=1772091037&x-signature=tCBh1O1i0mVbvHg3fky1JIpBqHM%3D');
                background-size: contain;
                background-repeat: no-repeat;
                background-position: center;
                transition: transform 0.3s ease;
            }
            
            &:hover .seagull-icon {
                transform: scale(1.1);
            }
        }

        /* åŠŸèƒ½æŒ‰é’®åŒº */
        .function-buttons {
            position: absolute;
            bottom: 60px;
            left: 0;
            right: 0;
            padding: 0 24px;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            z-index: 1;
        }

        /* åŠŸèƒ½æŒ‰é’® */
        .func-btn {
            padding: 14px 0;
            background: linear-gradient(145deg, rgba(255,255,255,0.9), rgba(248,240,255,0.9));
            border: 1px solid #e8dfff;
            border-radius: 28px;
            text-align: center;
            color: #663399;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 
                0 -2px 6px rgba(255, 255, 255, 0.8) inset,
                0 2px 4px rgba(179, 136, 255, 0.1) inset,
                0 8px 12px rgba(179, 136, 255, 0.12),
                0 3px 6px rgba(120, 80, 180, 0.08);
            
            &:hover {
                background: linear-gradient(145deg, rgba(240,230,255,0.95), rgba(232,223,255,0.95));
                color: #4a2680;
                transform: translateY(-5px) scale(1.02);
                box-shadow: 
                    0 -2px 8px rgba(255, 255, 255, 0.9) inset,
                    0 3px 6px rgba(179, 136, 255, 0.15) inset,
                    0 12px 20px rgba(179, 136, 255, 0.2),
                    0 5px 10px rgba(120, 80, 180, 0.1);
            }
            
            &:active {
                transform: translateY(-2px) scale(0.98);
                box-shadow: 
                    0 2px 6px rgba(179, 136, 255, 0.1) inset,
                    0 4px 8px rgba(179, 136, 255, 0.15);
                background: linear-gradient(145deg, rgba(232,223,255,0.95), rgba(240,230,255,0.95));
            }
        }

        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes pulse {
            0% {
                transform: scale(0.95);
                opacity: 1;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
            100% {
                transform: scale(0.95);
                opacity: 1;
            }
        }
        
        /* å®šä½è¯·æ±‚æç¤ºæ¡†æ ·å¼ - ç¼©å°40% (åŸ300px â†’ 180px) */
        .location-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 16.8px 14.4px; /* åŒæ­¥ç¼©å°å†…è¾¹è·40% */
            border-radius: 12px; /* åŒæ­¥ç¼©å°åœ†è§’40% */
            box-shadow: 0 6px 24px rgba(0,0,0,0.25); /* åŒæ­¥ç¼©å°é˜´å½±40% */
            width: 180px; /* åŸ300px â†’ ç¼©å°40% = 180px */
            z-index: 9999;
            text-align: center;
            font-size: 9px; /* åŒæ­¥ç¼©å°å­—ä½“40% */
            color: #333;
            border: 1px solid #f0e6ff;
        }
        
        .location-icon {
            font-size: 19.2px; /* åŒæ­¥ç¼©å°40% */
            color: #9d65ff;
            margin-bottom: 9.6px; /* åŒæ­¥ç¼©å°40% */
            display: block;
        }
        
        .location-title {
            font-size: 10.8px; /* åŒæ­¥ç¼©å°40% */
            font-weight: 600;
            color: #4a2680;
            margin-bottom: 7.2px; /* åŒæ­¥ç¼©å°40% */
        }
        
        .location-desc {
            font-size: 8.4px; /* åŒæ­¥ç¼©å°40% */
            color: #666;
            line-height: 1.5;
            margin-bottom: 14.4px; /* åŒæ­¥ç¼©å°40% */
            text-align: left; /* æ–°å¢ï¼šæ–‡æœ¬å·¦å¯¹é½ */
        }
        
        .location-buttons {
            display: flex;
            gap: 7.2px; /* åŒæ­¥ç¼©å°40% */
            justify-content: center;
        }
        
        .location-btn {
            padding: 6px 12px; /* åŒæ­¥ç¼©å°40% */
            border-radius: 14.4px; /* åŒæ­¥ç¼©å°40% */
            font-size: 8.4px; /* åŒæ­¥ç¼©å°40% */
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            flex: 1;
            border: none;
        }
        
        .location-btn.allow {
            background: linear-gradient(135deg, #9d65ff, #c299ff);
            color: white;
        }
        
        .location-btn.allow:hover {
            background: linear-gradient(135deg, #8a54e0, #b588e6);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(157, 101, 255, 0.3);
        }
        
        .location-btn.deny {
            background: #f5f5f5;
            color: #666;
            border: 1px solid #eee;
        }
        
        .location-btn.deny:hover {
            background: #f0f0f0;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        
        /* é®ç½©å±‚ */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 9998;
            backdrop-filter: blur(2px);
        }

        /* æ‰‹åŠ¨é€‰æ‹©å®šä½ç•Œé¢æ ·å¼ */
        .manual-location-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.25);
            width: 280px;
            z-index: 9999;
            text-align: center;
        }
        
        .manual-location-title {
            font-size: 18px;
            font-weight: 600;
            color: #4a2680;
            margin-bottom: 16px;
        }
        
        .city-list {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 16px;
            text-align: left;
        }
        
        .city-item {
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 8px;
            transition: background 0.2s ease;
        }
        
        .city-item:hover {
            background: #f0e6ff;
        }
        
        .confirm-city-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, #9d65ff, #c299ff);
            color: white;
            border: none;
            border-radius: 24px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <div class="screen-content">
            <!-- é™„è¿‘æ¨èæ»šåŠ¨æ  -->
            <div class="nearby-recommend">
                <div class="recommend-title">é™„è¿‘æ¨è</div>
                <div class="recommend-scroll" id="recommend-scroll">
                    <!-- è‡ªåŠ¨æ»šåŠ¨å®¹å™¨ -->
                    <div class="scroll-wrapper">
                        <!-- å‰§æœ¬æ¸¸åˆ†ç±» -->
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸ­</span>æ°‘å›½å¾€äº‹å‰§æœ¬æ¸¸
                            </div>
                            <div class="item-desc">æ˜†æ˜è€è¡— æ²‰æµ¸å¼ä½“éªŒ</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸ­</span>å¤§ç†æ­¦ä¾ å‰§æœ¬æ¸¸
                            </div>
                            <div class="item-desc">å¤§ç†å¤åŸ å¤é£æ¢è£…</div>
                        </div>
                        
                        <!-- ç¾é£Ÿåˆ†ç±» -->
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸœ</span>å®˜æ¸¡å¤é•‡å°åƒ
                            </div>
                            <div class="item-desc">æ‰‹å·¥é¥µå— å¿…å°æ¨è</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸœ</span>å»ºæ°´æ±½é”…é¸¡
                            </div>
                            <div class="item-desc">éé—ç¾é£Ÿ ç°ç‚¹ç°åš</div>
                        </div>
                        
                        <!-- æ‹ç…§åˆ†ç±» -->
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸ“¸</span>é‡‘é©¬ç¢§é¸¡åŠæ‹ç…§
                            </div>
                            <div class="item-desc">å¤œæ™¯æ‹æ‘„ æœ€ä½³19:00</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸ“¸</span>æ»‡æ± æµ·é¸¥æ‰“å¡
                            </div>
                            <div class="item-desc">å–‚é¸¥æ‹ç…§ é“å…·å…è´¹</div>
                        </div>
                        
                        <!-- è¡¨æ¼”åˆ†ç±» -->
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸª</span>æ°‘æ—æ‘å½æ—æ‰“è·³
                            </div>
                            <div class="item-desc">14:00 ä¸»èˆå°è¡¨æ¼”</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸª</span>ä¸½æ±Ÿçº³è¥¿å¤ä¹
                            </div>
                            <div class="item-desc">20:00 å››æ–¹è¡—æ¼”å‡º</div>
                        </div>
                        
                        <!-- å¿«é—ªåˆ†ç±» -->
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">âš¡</span>å—å±è¡—å¿«é—ª
                            </div>
                            <div class="item-desc">16:00 æ°‘æ—èˆå¿«é—ª</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">âš¡</span>æ˜Ÿå…‰å¤œå¸‚å¿«é—ª
                            </div>
                            <div class="item-desc">19:30 å‚£è¿ªäº’åŠ¨</div>
                        </div>
                        
                        <!-- çº¿è·¯åˆ†ç±» -->
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸ—ºï¸</span>æ»‡æ± ç¯æ¹–çº¿è·¯
                            </div>
                            <div class="item-desc">éª‘è¡Œ/æ­¥è¡Œ 2å°æ—¶</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸ—ºï¸</span>èŒ¶é©¬å¤é“çº¿è·¯
                            </div>
                            <div class="item-desc">å¾’æ­¥ä½“éªŒ å«è®²è§£</div>
                        </div>

                        <!-- å¤åˆ¶ä¸€ä»½å†…å®¹ï¼Œå®ç°æ— ç¼æ»šåŠ¨è¡”æ¥ -->
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸ­</span>æ°‘å›½å¾€äº‹å‰§æœ¬æ¸¸
                            </div>
                            <div class="item-desc">æ˜†æ˜è€è¡— æ²‰æµ¸å¼ä½“éªŒ</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸ­</span>å¤§ç†æ­¦ä¾ å‰§æœ¬æ¸¸
                            </div>
                            <div class="item-desc">å¤§ç†å¤åŸ å¤é£æ¢è£…</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸœ</span>å®˜æ¸¡å¤é•‡å°åƒ
                            </div>
                            <div class="item-desc">æ‰‹å·¥é¥µå— å¿…å°æ¨è</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸœ</span>å»ºæ°´æ±½é”…é¸¡
                            </div>
                            <div class="item-desc">éé—ç¾é£Ÿ ç°ç‚¹ç°åš</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸ“¸</span>é‡‘é©¬ç¢§é¸¡åŠæ‹ç…§
                            </div>
                            <div class="item-desc">å¤œæ™¯æ‹æ‘„ æœ€ä½³19:00</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸ“¸</span>æ»‡æ± æµ·é¸¥æ‰“å¡
                            </div>
                            <div class="item-desc">å–‚é¸¥æ‹ç…§ é“å…·å…è´¹</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸª</span>æ°‘æ—æ‘å½æ—æ‰“è·³
                            </div>
                            <div class="item-desc">14:00 ä¸»èˆå°è¡¨æ¼”</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸª</span>ä¸½æ±Ÿçº³è¥¿å¤ä¹
                            </div>
                            <div class="item-desc">20:00 å››æ–¹è¡—æ¼”å‡º</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">âš¡</span>å—å±è¡—å¿«é—ª
                            </div>
                            <div class="item-desc">16:00 æ°‘æ—èˆå¿«é—ª</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">âš¡</span>æ˜Ÿå…‰å¤œå¸‚å¿«é—ª
                            </div>
                            <div class="item-desc">19:30 å‚£è¿ªäº’åŠ¨</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸ—ºï¸</span>æ»‡æ± ç¯æ¹–çº¿è·¯
                            </div>
                            <div class="item-desc">éª‘è¡Œ/æ­¥è¡Œ 2å°æ—¶</div>
                        </div>
                        <div class="recommend-item">
                            <div class="item-title">
                                <span class="item-icon">ğŸ—ºï¸</span>èŒ¶é©¬å¤é“çº¿è·¯
                            </div>
                            <div class="item-desc">å¾’æ­¥ä½“éªŒ å«è®²è§£</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AIä¼´æ¸¸æŒ‰é’® -->
            <div class="ai-button" id="ai-btn">
                <div class="seagull-icon"></div>
            </div>

            <!-- åŠŸèƒ½æŒ‰é’®ç»„ -->
            <div class="function-buttons">
                <div class="func-btn">çƒ­é—¨å‰§æœ¬</div>
                <div class="func-btn">å¿«é—ªæ´»åŠ¨</div>
                <div class="func-btn">éé—æ‰‹å·¥</div>
                <div class="func-btn">æ‰“è·³èšç‚¹</div>
            </div>
        </div>
    </div>

    <script>
        // é¡µé¢åŠ è½½å®Œæˆåç«‹å³æ˜¾ç¤ºå®šä½è¯·æ±‚æç¤º
        window.addEventListener('DOMContentLoaded', function() {
            // åˆ›å»ºé®ç½©å±‚
            const overlay = document.createElement('div');
            overlay.className = 'overlay';
            document.body.appendChild(overlay);
            
            // åˆ›å»ºå®šä½è¯·æ±‚å¼¹çª—
            const locationModal = document.createElement('div');
            locationModal.className = 'location-modal';
            locationModal.innerHTML = `
                <span class="location-icon">ğŸ“</span>
                <div class="location-title">è·å–å®šä½</div>
                <div class="location-desc">åŠŸèƒ½å‡åŸºäºå®šä½å®ç°ï¼Œå¼€å¯ä½ç½®æƒé™ä½“éªŒæ›´ä½³</div>
                <div class="location-buttons">
                    <button class="location-btn deny">æš‚ä¸å…è®¸</button>
                    <button class="location-btn allow">å…è®¸</button>
                </div>
            `;
            document.body.appendChild(locationModal);
            
            // æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            const denyBtn = locationModal.querySelector('.deny');
            const allowBtn = locationModal.querySelector('.allow');
            
            // å…³é—­å¼¹çª—çš„é€šç”¨å‡½æ•°
            function closeModal() {
                if (document.body.contains(locationModal)) {
                    document.body.removeChild(locationModal);
                }
                if (document.body.contains(overlay)) {
                    document.body.removeChild(overlay);
                }
            }
            
            // æš‚ä¸å…è®¸ - æ‰“å¼€æ‰‹åŠ¨é€‰æ‹©å®šä½ç•Œé¢
            denyBtn.addEventListener('click', function() {
                closeModal();
                showManualLocationModal();
            });
            
            // å…è®¸å®šä½
            allowBtn.addEventListener('click', function() {
                closeModal();
                // è°ƒç”¨æµè§ˆå™¨çš„å®šä½API
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(
                        // å®šä½æˆåŠŸ
                        function(position) {
                            const lat = position.coords.latitude;
                            const lng = position.coords.longitude;
                            showToast('å®šä½æˆåŠŸï¼Œæ­£åœ¨ä¸ºä½ æ¨èé™„è¿‘å†…å®¹');
                            // è¿™é‡Œå¯ä»¥æ·»åŠ æ ¹æ®ç»çº¬åº¦è·å–å…·ä½“ä½ç½®å¹¶æ›´æ–°æ¨èå†…å®¹çš„é€»è¾‘
                            console.log('å®šä½æˆåŠŸï¼š', 'çº¬åº¦', lat, 'ç»åº¦', lng);
                        },
                        // å®šä½å¤±è´¥
                        function(error) {
                            let errorMsg = '';
                            switch(error.code) {
                                case error.PERMISSION_DENIED:
                                    errorMsg = 'ä½ æ‹’ç»äº†å®šä½è¯·æ±‚';
                                    break;
                                case error.POSITION_UNAVAILABLE:
                                    errorMsg = 'ä½ç½®ä¿¡æ¯ä¸å¯ç”¨';
                                    break;
                                case error.TIMEOUT:
                                    errorMsg = 'å®šä½è¯·æ±‚è¶…æ—¶';
                                    break;
                                case error.UNKNOWN_ERROR:
                                    errorMsg = 'æœªçŸ¥é”™è¯¯';
                                    break;
                            }
                            showToast(errorMsg + 'ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©å®šä½');
                            // å®šä½å¤±è´¥æ—¶ä¹Ÿæ‰“å¼€æ‰‹åŠ¨é€‰æ‹©ç•Œé¢
                            showManualLocationModal();
                        },
                        {
                            enableHighAccuracy: true,
                            timeout: 10000,
                            maximumAge: 0
                        }
                    );
                } else {
                    // æµè§ˆå™¨ä¸æ”¯æŒå®šä½
                    showToast('ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒå®šä½åŠŸèƒ½ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©å®šä½');
                    showManualLocationModal();
                }
            });
        });
        
        // æ˜¾ç¤ºæ‰‹åŠ¨é€‰æ‹©å®šä½ç•Œé¢
        function showManualLocationModal() {
            // åˆ›å»ºé®ç½©å±‚
            const overlay = document.createElement('div');
            overlay.className = 'overlay';
            document.body.appendChild(overlay);
            
            // åˆ›å»ºæ‰‹åŠ¨é€‰æ‹©å®šä½å¼¹çª—
            const manualModal = document.createElement('div');
            manualModal.className = 'manual-location-modal';
            manualModal.innerHTML = `
                <div class="manual-location-title">æ‰‹åŠ¨é€‰æ‹©å®šä½</div>
                <div class="city-list">
                    <div class="city-item" data-city="æ˜†æ˜">æ˜†æ˜</div>
                    <div class="city-item" data-city="å¤§ç†">å¤§ç†</div>
                    <div class="city-item" data-city="ä¸½æ±Ÿ">ä¸½æ±Ÿ</div>
                    <div class="city-item" data-city="å»ºæ°´">å»ºæ°´</div>
                    <div class="city-item" data-city="è¥¿åŒç‰ˆçº³">è¥¿åŒç‰ˆçº³</div>
                </div>
                <button class="confirm-city-btn">ç¡®è®¤é€‰æ‹©</button>
            `;
            document.body.appendChild(manualModal);
            
            // åŸå¸‚é€‰æ‹©é€»è¾‘
            let selectedCity = 'æ˜†æ˜'; // é»˜è®¤é€‰ä¸­æ˜†æ˜
            const cityItems = manualModal.querySelectorAll('.city-item');
            const confirmBtn = manualModal.querySelector('.confirm-city-btn');
            
            // åˆå§‹åŒ–é»˜è®¤é€‰ä¸­æ ·å¼
            cityItems[0].style.background = '#f0e6ff';
            cityItems[0].style.color = '#9d65ff';
            
            // åŸå¸‚ç‚¹å‡»äº‹ä»¶
            cityItems.forEach(item => {
                item.addEventListener('click', function() {
                    // é‡ç½®æ‰€æœ‰åŸå¸‚æ ·å¼
                    cityItems.forEach(i => {
                        i.style.background = '';
                        i.style.color = '';
                    });
                    // è®¾ç½®å½“å‰é€‰ä¸­æ ·å¼
                    this.style.background = '#f0e6ff';
                    this.style.color = '#9d65ff';
                    selectedCity = this.dataset.city;
                });
            });
            
            // ç¡®è®¤æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            confirmBtn.addEventListener('click', function() {
                document.body.removeChild(manualModal);
                document.body.removeChild(overlay);
                showToast(`å·²é€‰æ‹©${selectedCity}ä½œä¸ºå®šä½åŸå¸‚`);
                console.log('æ‰‹åŠ¨é€‰æ‹©å®šä½ï¼š', selectedCity);
                // è¿™é‡Œå¯ä»¥æ·»åŠ æ ¹æ®é€‰æ‹©çš„åŸå¸‚æ›´æ–°æ¨èå†…å®¹çš„é€»è¾‘
            });
        }
        
        // æç¤ºæ¡†å‡½æ•°
        function showToast(message) {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                bottom: 30px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0,0,0,0.7);
                color: white;
                padding: 10px 20px;
                border-radius: 20px;
                font-size: 14px;
                z-index: 9999;
                opacity: 0;
                transition: opacity 0.3s ease;
            `;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            // æ˜¾ç¤ºæç¤º
            setTimeout(() => {
                toast.style.opacity = '1';
            }, 10);
            
            // 3ç§’åéšè—
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 3000);
        }

        // AIä¼´æ¸¸æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        document.getElementById('ai-btn').addEventListener('click', () => {
            const alertBox = document.createElement('div');
            alertBox.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                padding: 24px 20px;
                border-radius: 16px;
                box-shadow: 0 8px 32px rgba(0,0,0,0.2);
                width: 280px;
                z-index: 9999;
                text-align: center;
                font-size: 15px;
                color: #333;
            `;
            alertBox.innerHTML = `
                <div style="color: #9d65ff; font-size: 24px; margin-bottom: 12px;">ğŸ¦</div>
                <div style="margin-bottom: 16px; line-height: 1.5;">æµ·é¸¥ä¼´æ¸¸åŠ©æ‰‹ï¼šä½ å¥½å‘€ï½æˆ‘å¯ä»¥ä¸ºä½ è®²è§£å½“åœ°æ–‡åŒ–ã€æ¨èç‰¹è‰²ç¾é£Ÿï¼Œéœ€è¦ä»€ä¹ˆå¸®åŠ©å—ï¼Ÿ</div>
                <button style="
                    padding: 8px 24px;
                    background: #9d65ff;
                    color: white;
                    border: none;
                    border-radius: 20px;
                    font-size: 14px;
                    cursor: pointer;
                ">çŸ¥é“å•¦</button>
            `;
            document.body.appendChild(alertBox);
            
            alertBox.querySelector('button').addEventListener('click', () => {
                document.body.removeChild(alertBox);
            });
        });

        // åŠŸèƒ½æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.func-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const alertBox = document.createElement('div');
                alertBox.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: white;
                    padding: 20px;
                    border-radius: 16px;
                    box-shadow: 0 8px 32px rgba(0,0,0,0.2);
                    width: 260px;
                    z-index: 9999;
                    text-align: center;
                    font-size: 15px;
                    color: #333;
                `;
                alertBox.innerHTML = `
                    <div style="margin-bottom: 16px;">ä½ é€‰æ‹©äº†ã€${btn.textContent}ã€‘</div>
                    <div style="font-size: 14px; color: #666; margin-bottom: 16px;">æ­£åœ¨ä¸ºä½ åŠ è½½ç›¸å…³å†…å®¹...</div>
                    <button style="
                        padding: 8px 24px;
                        background: #9d65ff;
                        color: white;
                        border: none;
                        border-radius: 20px;
                        font-size: 14px;
                        cursor: pointer;
                    ">ç¡®å®š</button>
                `;
                document.body.appendChild(alertBox);
                
                alertBox.querySelector('button').addEventListener('click', () => {
                    document.body.removeChild(alertBox);
                });
            });
        });

        // æ¨èé¡¹ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.recommend-item').forEach(item => {
            item.addEventListener('click', () => {
                const title = item.querySelector('.item-title').textContent.replace(/[ğŸ­ğŸœğŸ“¸ğŸªâš¡ğŸ—ºï¸]/, '').trim();
                const desc = item.querySelector('.item-desc').textContent;
                const alertBox = document.createElement('div');
                alertBox.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: white;
                    padding: 20px;
                    border-radius: 16px;
                    box-shadow: 0 8px 32px rgba(0,0,0,0.2);
                    width: 260px;
                    z-index: 9999;
                    text-align: center;
                    font-size: 15px;
                    color: #333;
                `;
                alertBox.innerHTML = `
                    <div style="margin-bottom: 12px; color: #9d65ff; font-weight: 600;">${title}</div>
                    <div style="font-size: 14px; color: #666; margin-bottom: 16px;">${desc}</div>
                    <button style="
                        padding: 8px 24px;
                        background: #9d65ff;
                        color: white;
                        border: none;
                        border-radius: 20px;
                        font-size: 14px;
                        cursor: pointer;
                    ">æŸ¥çœ‹è¯¦æƒ…</button>
                `;
                document.body.appendChild(alertBox);
                
                alertBox.querySelector('button').addEventListener('click', () => {
                    document.body.removeChild(alertBox);
                });
            });
        });

        // æ‰‹åŠ¨æ»‘åŠ¨åŠŸèƒ½
        const scrollContainer = document.getElementById('recommend-scroll');
        let isDragging = false;
        let startX;
        let scrollLeft;

        scrollContainer.addEventListener('mousedown', startDrag);
        scrollContainer.addEventListener('touchstart', startDrag, { passive: true });
        scrollContainer.addEventListener('mousemove', drag);
        scrollContainer.addEventListener('touchmove', drag, { passive: true });
        scrollContainer.addEventListener('mouseup', endDrag);
        scrollContainer.addEventListener('mouseleave', endDrag);
        scrollContainer.addEventListener('touchend', endDrag);

        function startDrag(e) {
            isDragging = true;
            scrollContainer.classList.add('dragging');
            startX = (e.type === 'mousedown' ? e.pageX : e.touches[0].pageX) - scrollContainer.offsetLeft;
            scrollLeft = scrollContainer.scrollLeft;
            e.preventDefault();
        }

        function drag(e) {
            if (!isDragging) return;
            e.preventDefault();
            const x = (e.type === 'mousemove' ? e.pageX : e.touches[0].pageX) - scrollContainer.offsetLeft;
            const walk = (x - startX) * 1.5;
            scrollContainer.scrollLeft = scrollLeft - walk;
        }

        function endDrag() {
            isDragging = false;
            scrollContainer.classList.remove('dragging');
        }

        // æ»šåŠ¨æ—¶æš‚åœè‡ªåŠ¨åŠ¨ç”»
        let scrollTimer;
        scrollContainer.addEventListener('scroll', () => {
            const scrollWrapper = scrollContainer.querySelector('.scroll-wrapper');
            scrollWrapper.style.animationPlayState = 'paused';
            
            clearTimeout(scrollTimer);
            scrollTimer = setTimeout(() => {
                scrollWrapper.style.animationPlayState = 'running';
            }, 1000);
        });
    </script>
</body>
</html>